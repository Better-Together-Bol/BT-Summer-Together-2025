<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Frequently asked questions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 700px;
      margin: auto;
      padding: 2em;
    }
    h1 {
      color: #2a2a2a;
    }
    a {
      color: #0066cc;
    }
    .faq-item {
      margin-bottom: 1em;
      cursor: pointer;
    }
    .question {
      font-weight: bold;
      background: #f0f0f0;
      padding: 10px 15px;
      border-radius: 5px;
      user-select: none;
      position: relative;
    }
    .question::after {
      content: '+';
      position: absolute;
      right: 20px;
      font-weight: bold;
      transition: transform 0.3s ease;
    }
    .faq-item.open .question::after {
      content: '-';
      transform: rotate(180deg);
    }
    .answer {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease;
      padding: 0 15px;
      background: #fafafa;
      border-left: 3px solid #0066cc;
      border-radius: 0 5px 5px 0;
    }
    .faq-item.open .answer {
      padding: 10px 15px;
    }
    .banner {
      display: block;
      width: 100%;
      height: auto;
      object-fit: cover;
    }
    @media (max-width: 768px) {
      .banner {
        height: 110px;
        object-fit: cover;
      }
    }
    #tally-container {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease;
    }
    #tally-container.open {
      max-height: none;
    }
    #toggle-tally {
      cursor: pointer;
      background: #3159ed;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      font-size: 16px;
      font-weight: bold;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: background 0.3s ease, transform 0.2s ease;
    }
    #toggle-tally:hover {
      background: #004a99;
      transform: translateY(-2px);
    }
    #toggle-tally:active {
      background: #004f8c;
      transform: translateY(0);
    }
  </style>
</head>
<body>

  <!-- Full-width banner -->
  <img src="../images/bt-banner.png" alt="Banner" class="banner" />
  
  <div class="container">
    <h1>Frequently asked questions</h1>

    <p>You'll find the answers to the most common questions below!</p>

    <p>Haven't found what you're looking for?</p>
    
    <p>
      <button id="toggle-tally">
        ðŸ‘‹ Shoot us a message
      </button>
    </p>
    
    <div id="tally-container">
      <iframe
        data-tally-src="https://tally.so/embed/3ypEk4?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1"
        loading="lazy"
        width="100%"
        height="400"
        frameborder="0"
        marginheight="0"
        marginwidth="0"
        title="Summer Together contact form"
      ></iframe>
    </div>

    <div class="faq-item">
      <div class="question">How can I participate?</div>
      <div class="answer">You can participate by scanning the QR code on the "Summer Together" card! This will bring you to a Linktree page where you can participate in the individual challenges.</div>
    </div>
  </div>

  <script>
    // Expand/collapse FAQ
    document.querySelectorAll('.faq-item .question').forEach(question => {
      question.addEventListener('click', () => {
        const faqItem = question.parentElement;
        const answer = faqItem.querySelector('.answer');

        if (faqItem.classList.contains('open')) {
          answer.style.maxHeight = null;
          faqItem.classList.remove('open');
        } else {
          answer.style.maxHeight = answer.scrollHeight + "px";
          faqItem.classList.add('open');
        }
      });
    });

    // Toggle Tally form visibility using class toggle
    document.addEventListener('DOMContentLoaded', () => {
      const toggleBtn = document.getElementById('toggle-tally');
      const tallyContainer = document.getElementById('tally-container');

      toggleBtn.addEventListener('click', () => {
        tallyContainer.classList.toggle('open');

        if (!tallyContainer.classList.contains('open')) {
          tallyContainer.style.maxHeight = '0px';
        } else {
          tallyContainer.style.maxHeight = null; // Let CSS max-height:none work
        }
      });
    });

    // Tally embed loader
    var d = document,
        w = "https://tally.so/widgets/embed.js",
        v = function () {
          if (typeof Tally !== "undefined") {
            Tally.loadEmbeds();
          } else {
            d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach(function (e) {
              e.src = e.dataset.tallySrc;
            });
          }
        };
    if (typeof Tally !== "undefined") v();
    else if (d.querySelector('script[src="' + w + '"]') == null) {
      var s = d.createElement("script");
      s.src = w;
      s.onload = v;
      s.onerror = v;
      d.body.appendChild(s);
    }
  </script>

</body>
</html>
